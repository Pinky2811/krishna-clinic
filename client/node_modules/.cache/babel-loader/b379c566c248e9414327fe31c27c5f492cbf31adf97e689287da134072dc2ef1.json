{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Admin=()=>{const[appointments,setAppointments]=useState([]);const[isAdmin,setIsAdmin]=useState(false);const handleAdminLogin=()=>{const password=prompt(\"Enter admin password:\");if(password===\"krishna123\"){setIsAdmin(true);}else{alert(\"Incorrect password!\");}};useEffect(()=>{if(isAdmin){fetch('http://localhost:5000/api/appointments').then(res=>res.json()).then(data=>setAppointments(data));}},[isAdmin]);return/*#__PURE__*/_jsxs(\"section\",{style:{padding:\"30px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD10 Admin Panel\"}),!isAdmin?/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleAdminLogin,style:{padding:'10px 20px',background:'#007bff',color:'white',border:'none',borderRadius:'8px'},children:\"Login as Admin\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:\"30px\"},children:\"Appointment Requests\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\",marginTop:\"10px\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mobile\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date/Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:appointments.map(appt=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:appt.full_name}),/*#__PURE__*/_jsx(\"td\",{children:appt.mobile}),/*#__PURE__*/_jsx(\"td\",{children:appt.reason}),/*#__PURE__*/_jsx(\"td\",{children:new Date(appt.datetime).toLocaleString('en-IN')}),/*#__PURE__*/_jsx(\"td\",{children:appt.status})]},appt.id))})]})]})]});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Admin","appointments","setAppointments","isAdmin","setIsAdmin","handleAdminLogin","password","prompt","alert","fetch","then","res","json","data","style","padding","children","marginTop","onClick","background","color","border","borderRadius","width","borderCollapse","map","appt","full_name","mobile","reason","Date","datetime","toLocaleString","status","id"],"sources":["D:/New Website/krishna-clinic/client/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst Admin = () => {\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  const handleAdminLogin = () => {\r\n    const password = prompt(\"Enter admin password:\");\r\n    if (password === \"krishna123\") {\r\n      setIsAdmin(true);\r\n    } else {\r\n      alert(\"Incorrect password!\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAdmin) {\r\n      fetch('http://localhost:5000/api/appointments')\r\n        .then((res) => res.json())\r\n        .then((data) => setAppointments(data));\r\n    }\r\n  }, [isAdmin]);\r\n\r\n  return (\r\n    <section style={{ padding: \"30px\" }}>\r\n      <h2>üîê Admin Panel</h2>\r\n\r\n      {!isAdmin ? (\r\n        <div style={{ marginTop: \"20px\" }}>\r\n          <button\r\n            onClick={handleAdminLogin}\r\n            style={{ padding: '10px 20px', background: '#007bff', color: 'white', border: 'none', borderRadius: '8px' }}\r\n          >\r\n            Login as Admin\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <h3 style={{ marginTop: \"30px\" }}>Appointment Requests</h3>\r\n          <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: \"10px\" }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Mobile</th>\r\n                <th>Reason</th>\r\n                <th>Date/Time</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {appointments.map((appt) => (\r\n                <tr key={appt.id}>\r\n                  <td>{appt.full_name}</td>\r\n                  <td>{appt.mobile}</td>\r\n                  <td>{appt.reason}</td>\r\n                  <td>{new Date(appt.datetime).toLocaleString('en-IN')}</td>\r\n                  <td>{appt.status}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnD,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAa,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,QAAQ,CAAGC,MAAM,CAAC,uBAAuB,CAAC,CAChD,GAAID,QAAQ,GAAK,YAAY,CAAE,CAC7BF,UAAU,CAAC,IAAI,CAAC,CAClB,CAAC,IAAM,CACLI,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CACF,CAAC,CAEDf,SAAS,CAAC,IAAM,CACd,GAAIU,OAAO,CAAE,CACXM,KAAK,CAAC,wCAAwC,CAAC,CAC5CC,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAKX,eAAe,CAACW,IAAI,CAAC,CAAC,CAC1C,CACF,CAAC,CAAE,CAACV,OAAO,CAAC,CAAC,CAEb,mBACEN,KAAA,YAASiB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,eAClCrB,IAAA,OAAAqB,QAAA,CAAI,0BAAc,CAAI,CAAC,CAEtB,CAACb,OAAO,cACPR,IAAA,QAAKmB,KAAK,CAAE,CAAEG,SAAS,CAAE,MAAO,CAAE,CAAAD,QAAA,cAChCrB,IAAA,WACEuB,OAAO,CAAEb,gBAAiB,CAC1BS,KAAK,CAAE,CAAEC,OAAO,CAAE,WAAW,CAAEI,UAAU,CAAE,SAAS,CAAEC,KAAK,CAAE,OAAO,CAAEC,MAAM,CAAE,MAAM,CAAEC,YAAY,CAAE,KAAM,CAAE,CAAAN,QAAA,CAC7G,gBAED,CAAQ,CAAC,CACN,CAAC,cAENnB,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACErB,IAAA,OAAImB,KAAK,CAAE,CAAEG,SAAS,CAAE,MAAO,CAAE,CAAAD,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAC3DnB,KAAA,UAAOiB,KAAK,CAAE,CAAES,KAAK,CAAE,MAAM,CAAEC,cAAc,CAAE,UAAU,CAAEP,SAAS,CAAE,MAAO,CAAE,CAAAD,QAAA,eAC7ErB,IAAA,UAAAqB,QAAA,cACEnB,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbrB,IAAA,OAAAqB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfrB,IAAA,OAAAqB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfrB,IAAA,OAAAqB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBrB,IAAA,OAAAqB,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACA,CAAC,cACRrB,IAAA,UAAAqB,QAAA,CACGf,YAAY,CAACwB,GAAG,CAAEC,IAAI,eACrB7B,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAKU,IAAI,CAACC,SAAS,CAAK,CAAC,cACzBhC,IAAA,OAAAqB,QAAA,CAAKU,IAAI,CAACE,MAAM,CAAK,CAAC,cACtBjC,IAAA,OAAAqB,QAAA,CAAKU,IAAI,CAACG,MAAM,CAAK,CAAC,cACtBlC,IAAA,OAAAqB,QAAA,CAAK,GAAI,CAAAc,IAAI,CAACJ,IAAI,CAACK,QAAQ,CAAC,CAACC,cAAc,CAAC,OAAO,CAAC,CAAK,CAAC,cAC1DrC,IAAA,OAAAqB,QAAA,CAAKU,IAAI,CAACO,MAAM,CAAK,CAAC,GALfP,IAAI,CAACQ,EAMV,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACR,CACH,EACM,CAAC,CAEd,CAAC,CAED,cAAe,CAAAlC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}